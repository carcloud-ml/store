(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5,7],{"0lfv":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c}));var n=()=>JSON.parse(localStorage.getItem("dataSource")||"{}"),r=(e,t)=>{var a=n(),r=Object.keys(a).find((t=>a[t].author===e))||"",c=a[r].apps||[];return c.find((e=>e.name===t))},c=e=>localStorage.setItem("dataSource",JSON.stringify(e))},Idy6:function(e,t,a){"use strict";a.r(t);a("QE6f");var n=a("Xo8F"),r=(a("tLCQ"),a("XYLF")),c=(a("1Cgs"),a("zvbH")),l=(a("D2jH"),a("2ROE")),i=a("VTBJ"),o=a("ODXe"),s=a("q1tI"),m=a.n(s),u=a("Ty5D"),d=a("9kvl"),p=a("bTu8"),g=a("Ap4+"),E=a("xqva"),b=a("Ndxo"),f=a("i7U8"),_=a("0lfv"),v=a("bIAK"),h=a("I5X1"),O=a("La0L"),j=a.n(O);a("J/SH");p["a"].use([g["a"]]);var w=()=>{var e=Object(u["l"])(),t=e.appId,a=e.author,p=Object(_["b"])(a,t),g=Object(h["a"])("initialiseModel",(e=>e)),O=g.isScriptable,w=Object(s["useState"])("\u6682\u65e0\u66f4\u65b0"),y=Object(o["a"])(w,2),x=y[0],k=y[1];return Object(s["useEffect"])((()=>{function e(t){k(t.detail),window.removeEventListener("getLocalWidgetVersion",e)}window.dispatchEvent(new CustomEvent("catalog-event",{detail:Object(i["a"])(Object(i["a"])({},p),{},{key:"fetchAppInfo"})})),window.addEventListener("getLocalWidgetVersion",e)}),[p,k]),m.a.createElement(m.a.Fragment,null,m.a.createElement(c["a"],{mode:"light",icon:m.a.createElement(l["a"],{type:"left"}),onLeftClick:()=>d["a"].goBack()}),p?m.a.createElement("div",{className:j.a.container},m.a.createElement(r["a"],{full:!0},m.a.createElement(r["a"].Header,{title:"\u7ec4\u4ef6\u4fe1\u606f",extra:O?m.a.createElement(f["CustomerIcon"],{icon:"https://img.icons8.com/clouds/344/download-2.png",onClick:()=>{var e=new CustomEvent("catalog-event",{detail:Object(i["a"])(Object(i["a"])({},p),{},{key:"downloadButtonClicked"})});window.dispatchEvent(e),console.log("\u89e6\u53d1\u4e0b\u8f7d\u529f\u80fd")}}):m.a.createElement("a",{href:p.scriptURL,download:"".concat(p.name,".js")},m.a.createElement(f["CustomerIcon"],{icon:"https://img.icons8.com/clouds/344/download-2.png"}))}),m.a.createElement(r["a"].Body,{className:j.a.container_body},m.a.createElement(n["a"],{align:"start",justify:"start"},m.a.createElement("div",null,m.a.createElement("img",{className:j.a.appImg,src:p.thumb,alt:p.name}),m.a.createElement("div",{style:{textAlign:"center",fontSize:12}},"\u7248\u672c\u53f7\uff1a",p.version)),m.a.createElement(n["a"].Item,null,m.a.createElement(n["a"],{direction:"column",align:"start"},m.a.createElement("div",null,m.a.createElement("h3",{className:j.a.appTitle},p.title),m.a.createElement("div",{style:{textAlign:"center",fontSize:12}},"\u672c\u5730\u7248\u672c\uff1a",x)),m.a.createElement(n["a"].Item,null,m.a.createElement("div",{className:j.a.appDesc},p.description))))))),p.html&&m.a.createElement(r["a"],{full:!0},m.a.createElement(r["a"].Header,{title:"\u7ec4\u4ef6\u63cf\u8ff0"}),m.a.createElement(r["a"].Body,null,m.a.createElement("div",{dangerouslySetInnerHTML:{__html:p.html.join("")}}))),p.images&&m.a.createElement("div",{className:j.a.photos},m.a.createElement(r["a"],{full:!0},m.a.createElement(r["a"].Header,{title:"\u7ec4\u4ef6\u76f8\u518c"}),m.a.createElement(r["a"].Body,null,m.a.createElement(E["a"],{scrollbar:{draggable:!0},spaceBetween:10,slidesPerView:1.2},p.images.map(((e,t)=>m.a.createElement(b["a"],{key:"img".concat(t)},m.a.createElement("img",{style:{maxWidth:"100%",width:"auto"},src:e,alt:""}))))))))):m.a.createElement(v["a"],null,"\u6ca1\u6709\u627e\u5230\u8be5\u7ec4\u4ef6"))};t["default"]=w},La0L:function(e,t,a){e.exports={container:"container___2dK_3",container_body:"container_body___1k27R",appImg:"appImg___1MXfc",appTitle:"appTitle___2Vrw4",appDesc:"appDesc___qLGi7"}},R0pf:function(e,t,a){e.exports={container:"container___3WbTd",widgetTitle:"widgetTitle___1Ojl9",icon:"icon___38pp4",subList:"subList___1NVQZ","row-dragging":"row-dragging___1TbdM",avatar:"avatar___2yRWX",user_info:"user_info___1pF6R",user_title:"user_title___3VZaa",user_text:"user_text___2-KJa",extra:"extra___1Pjch"}},diY3:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("o0o1"),r=a.n(n),c=(a("HVTF"),a("OT5E")),l=a("HaE+"),i=a("9kvl"),o=function(){var e=Object(l["a"])(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["c"])(t,{method:"get"});case 2:a=e.sent;try{a.scriptable?(n=JSON.parse(localStorage.getItem("dataSource")||"{}"),n[t]=a,localStorage.setItem("dataSource",JSON.stringify(n))):c["a"].fail("\u8ba2\u9605\u5730\u5740\u9519\u8bef")}catch(r){c["a"].fail(JSON.stringify(r))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i7U8:function(e,t,a){"use strict";a.r(t),a.d(t,"CustomerIcon",(function(){return S}));a("mw1O");var n=a("nJCp"),r=a("VTBJ"),c=(a("tLCQ"),a("XYLF")),l=a("o0o1"),i=a.n(l),o=a("HaE+"),s=(a("RFiq"),a("ZyfH")),m=a("ODXe"),u=(a("pYJI"),a("EIQY")),d=(a("QE6f"),a("Xo8F")),p=(a("B8GA"),a("8dL9")),g=a("wx14"),E=a("Ff2n"),b=(a("puyI"),a("xZH1")),f=a("q1tI"),_=a.n(f),v=a("wYyv"),h=a.n(v),O=a("YJCA"),j=a("R0pf"),w=a.n(j),y=a("0lfv"),x=a("diY3"),k=a("bIAK"),I=b["a"].prompt,S=Object(f["forwardRef"])(((e,t)=>{var a=e.icon,n=Object(E["a"])(e,["icon"]);return _.a.createElement("img",Object(g["a"])({ref:t,className:w.a.icon,alt:"",src:a},n))})),L=Object(O["c"])((e=>{var t=e.counts;return _.a.createElement(p["a"],{style:{userSelect:"none"},text:t,size:"small"})})),N=e=>{var t=e.dataSource,a=e.update,n=e.setLoading;return _.a.createElement(u["a"],{className:w.a.subList,autoClose:!0,right:[{text:"\u66f4\u65b0",onPress:()=>(n(!0),Object(x["a"])(t.url).then((()=>{var e=Object(y["a"])();a(e)})).finally((()=>{n(!1)}))),style:{backgroundColor:"#77cad1",color:"white"}},{text:"\u5220\u9664",onPress:()=>{var e=Object(y["a"])();delete e[t.url],Object(y["c"])(e),a(e)},style:{backgroundColor:"red",color:"white"}}],style:{marginBottom:10,padding:"10px 0"}},_.a.createElement(d["a"],null,_.a.createElement("img",{className:w.a.avatar,alt:"",src:t.icon}),_.a.createElement("div",null,_.a.createElement(d["a"],{className:w.a.user_info,direction:"column",justify:"start"},_.a.createElement("div",{className:w.a.user_title},t.author," \u7ec4\u4ef6"),_.a.createElement("div",null,t.repo),_.a.createElement("div",{className:w.a.user_text},"@",t.author))),_.a.createElement(L,{counts:t.counts}),_.a.createElement("div",{style:{marginLeft:"auto"}},_.a.createElement("a",{href:t.repo,target:"_blank"},_.a.createElement(S,{icon:"https://img.icons8.com/clouds/344/github.png",style:{width:"3rem",height:"3rem"}})))))},C=Object(O["b"])((e=>_.a.createElement(N,e))),H=Object(O["a"])((e=>{var t=e.children;return _.a.createElement("div",null,t)}));t["default"]=()=>{var e=Object(y["a"])(),t=_.a.useState(e),a=Object(m["a"])(t,2),l=a[0],u=a[1],d=_.a.useState(!1),p=Object(m["a"])(d,2),g=p[0],E=p[1];return _.a.createElement(n["a"],{className:w.a.container},_.a.createElement(s["a"],{toast:!0,animating:g}),_.a.createElement(c["a"],null,_.a.createElement(c["a"].Header,{className:w.a.widgetTitle,title:"\u7ec4\u4ef6\u8ba2\u9605(".concat(Object.keys(l).length,")"),extra:_.a.createElement("div",{className:w.a.extra},_.a.createElement(S,{icon:"https://img.icons8.com/clouds/344/cloud-refresh.png",onClick:Object(o["a"])(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object.keys(l),E(!0),a=0,n=t;case 3:if(!(a<n.length)){e.next=10;break}return r=n[a],e.next=7,Object(x["a"])(r);case 7:a++,e.next=3;break;case 10:u(Object(y["a"])()),E(!1);case 12:case"end":return e.stop()}}),e)})))}),_.a.createElement(S,{icon:"https://img.icons8.com/clouds/344/add.png",onClick:()=>I("\u8f93\u5165\u7ec4\u4ef6\u8ba2\u9605\u5730\u5740","",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(){var e=Object(o["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Object(x["a"])(t);case 3:u(Object(y["a"])()),E(!1);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}))}),_.a.createElement(c["a"].Body,{style:{minHeight:100}},_.a.createElement(H,{useDragHandle:!0,helperClass:w.a["row-dragging"],onSortEnd:t=>{var a=t.oldIndex,n=t.newIndex,r=Object.keys(l),c=h()(r,a,n),i={};c.forEach((t=>{i[t]=e[t]})),Object(y["c"])(i),u(i)}},Object.keys(l).length?Object.keys(l).map(((e,t)=>{var a=l[e],n=Object(r["a"])(Object(r["a"])({},a),{},{counts:a.apps.length,url:e});return _.a.createElement(C,{key:e,index:t,dataSource:n,update:u,setLoading:E})})):_.a.createElement(k["a"],{style:{height:"5rem"}},"\u6682\u672a\u6dfb\u52a0\u76f8\u5173\u8ba2\u9605")))))}}}]);